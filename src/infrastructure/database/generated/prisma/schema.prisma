generator client {
  provider = "prisma-client-js"
  output   = "../src/infrastructure/database/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model bancos {
  id          Int      @default(autoincrement())
  codbanco    Int
  instituicao String   @db.VarChar(255)
  segmento    String   @db.VarChar(255)
  createdAt   DateTime @db.DateTime(0)
  updatedAt   DateTime @db.DateTime(0)

  @@id([id, codbanco])
}

model configuracao {
  id        Int      @id @default(autoincrement())
  descricao String   @db.VarChar(255)
  config    Json
  createdAt DateTime @db.DateTime(0)
  updatedAt DateTime @db.DateTime(0)
}

model consultas {
  id              Int      @id @default(autoincrement())
  datahora        DateTime @default(now()) @db.DateTime(0)
  id_servico      Int
  beneficio       String?  @db.VarChar(15)
  cpf             String?  @db.VarChar(15)
  qtde            Int
  id_usuario      Int
  createdAt       DateTime @db.DateTime(0)
  updatedAt       DateTime @db.DateTime(0)
  tipotransacao   Int      @default(1)
  observacao      String?  @db.VarChar(255)
  valor_unit      Float    @default(0)
  matricula_siape String?  @db.VarChar(15)
  tp_serv_origem  Int      @default(0)
  id_extrato_off  Int      @default(0)
  origem_sol      Int      @default(1)
}

model consultasoffline {
  id                       Int      @id @default(autoincrement())
  idConsulta               Int
  erroID                   String?  @db.VarChar(255)
  idStatusSolicitacaoIn100 Int
  situacao                 String?  @db.VarChar(255)
  resultado                Json?
  createdAt                DateTime @db.DateTime(0)
  updatedAt                DateTime @db.DateTime(0)
}

model consultasofflinesiape {
  id         Int      @id @default(autoincrement())
  idConsulta Int
  situacao   String?  @db.VarChar(255)
  erroID     String?  @db.VarChar(255)
  resultado  Json?
  createdAt  DateTime @db.DateTime(0)
  updatedAt  DateTime @db.DateTime(0)
}

model credito {
  id            Int      @id @default(autoincrement())
  datahora      DateTime @default(now()) @db.DateTime(0)
  valorun       Float?   @default(0) @db.Float
  vendedor      Int
  createdAt     DateTime @db.DateTime(0)
  updatedAt     DateTime @db.DateTime(0)
  idusu_cli     Int
  tiposervico   Int
  qtdecreditos  Int
  qtderestante  Int
  qtdeutilizada Int
}

model desbloqueios {
  id                 Int      @id @default(autoincrement())
  datahora           DateTime @default(now()) @db.DateTime(0)
  beneficio          String   @db.VarChar(15)
  cpf                String   @db.VarChar(15)
  protocolo          String?  @db.VarChar(255)
  requerente         String?  @db.VarChar(100)
  unidade            String?  @db.VarChar(100)
  status             Int      @default(0)
  id_usuario         Int
  createdAt          DateTime @db.DateTime(0)
  updatedAt          DateTime @db.DateTime(0)
  id_usu_desbloqueio Int      @default(0)
  ddb                String?  @db.VarChar(255)

  @@index([status], map: "status")
}

model entrantesinss {
  id         Int       @id @default(autoincrement())
  cpf        String?   @db.VarChar(255)
  nome       String?   @db.VarChar(255)
  nascimento DateTime? @db.DateTime(0)
  idade      Int?
  beneficio  Int?
  especie    Int?
  salario    Float?    @db.Float
  dib        DateTime? @db.DateTime(0)
  cidade     String?   @db.VarChar(255)
  uf         String?   @db.VarChar(255)
  bairro     String?   @db.VarChar(255)
  cep        String?   @db.VarChar(255)
  fone       String?   @db.VarChar(255)
  fone1      String?   @db.VarChar(255)
  fone2      String?   @db.VarChar(255)
  fone3      String?   @db.VarChar(255)
  fone4      String?   @db.VarChar(255)
  fone5      String?   @db.VarChar(255)
  fone6      String?   @db.VarChar(255)
  fone7      String?   @db.VarChar(255)
  fone8      String?   @db.VarChar(255)
  fone9      String?   @db.VarChar(255)
  email      String?   @db.VarChar(255)
  createdAt  DateTime  @db.DateTime(0)
  updatedAt  DateTime  @db.DateTime(0)
}

model especiebeneficio {
  id                   Int      @default(autoincrement())
  codigo               Int
  descEspecieBeneficio String   @db.VarChar(255)
  gruposEspecie        String   @db.VarChar(255)
  createdAt            DateTime @db.DateTime(0)
  updatedAt            DateTime @db.DateTime(0)

  @@id([id, codigo])
}

model extratooffline {
  id           Int      @id @default(autoincrement())
  cpf          String?  @db.VarChar(11)
  beneficio    String?  @db.VarChar(15)
  jsonResult   Json?
  createdAt    DateTime @db.DateTime(0)
  updatedAt    DateTime @db.DateTime(0)
  idFornecedor Int
  idConsulta   Int
  idUsuario    Int

  @@index([id, createdAt], map: "idx_extratooffline_id_createdat")
}

model extratoonline {
  id                Int      @id @default(autoincrement())
  idConsulta        Int
  id_fornecedor     Int
  beneficio         String   @db.VarChar(255)
  jsonResult        Json?
  filePdf           Bytes?   @db.Blob
  createdAt         DateTime @db.DateTime(0)
  updatedAt         DateTime @db.DateTime(0)
  isCache           Boolean?
  statusConsulta    Int?
  idConsultaOffline Int      @default(0)
  errorResult       String?  @db.VarChar(255)
  idUsuario         Int
}

model fornecedor {
  id                      Int       @id @default(autoincrement())
  descricao               String    @db.VarChar(255)
  cnpj                    String?   @db.VarChar(255)
  logradouro              String?   @db.VarChar(255)
  numero                  Int?
  complemento             String?   @db.VarChar(255)
  cep                     String?   @db.VarChar(255)
  cidade                  String?   @db.VarChar(255)
  estado                  String?   @db.VarChar(255)
  apikey                  String?   @db.VarChar(255)
  ativo                   Boolean   @default(true)
  createdAt               DateTime  @db.DateTime(0)
  updatedAt               DateTime  @db.DateTime(0)
  urlapi                  String?   @db.VarChar(255)
  usuarioApi              String?   @db.VarChar(255)
  senhaApi                String?   @db.VarChar(255)
  dataHoraValidacaoApiKey DateTime? @db.DateTime(0)
}

model fornecedorservico {
  id           Int      @id @default(autoincrement())
  idServico    Int
  idFornecedor Int
  ativo        Boolean?
  createdAt    DateTime @db.DateTime(0)
  updatedAt    DateTime @db.DateTime(0)
}

model historicoconsultaapi {
  id                    Int       @id @default(autoincrement())
  idservico             Int
  idfornecedor          Int
  cpf                   String?   @db.VarChar(11)
  cpfRepresentanteLegal String?   @db.VarChar(11)
  beneficio             String?   @db.VarChar(15)
  resultado             Json?
  statusConsulta        Int?
  createdAt             DateTime  @default(now()) @db.DateTime(0)
  updatedAt             DateTime? @db.DateTime(0)
}

model historicocredito {
  id           Int      @id @default(autoincrement()) @db.UnsignedInt
  clienteId    Int      @db.UnsignedInt
  tipoOperacao Int      @db.UnsignedInt
  quantidade   Int
  createdAt    DateTime @db.DateTime(0)
  idServico    Int      @db.UnsignedInt
}

model in100 {
  id                       Int      @id @default(autoincrement())
  idUsuario                Int
  idConsulta               Int
  idConsultaOffline        Int
  cpf                      String   @db.VarChar(255)
  numeroBeneficio          String?  @db.VarChar(255)
  situacao                 String?  @db.VarChar(255)
  requisicao               BigInt?
  errorID                  String?  @db.VarChar(255)
  resultado                Json?
  createdAt                DateTime @db.DateTime(0)
  updatedAt                DateTime @db.DateTime(0)
  cpfRepresentanteLegal    String?  @db.VarChar(255)
  idFornecedor             Int
  idStatusSolicitacaoIn100 Int
  msgErro                  String?  @db.VarChar(255)
}

model logins {
  id         Int           @id @default(autoincrement())
  name       String        @db.VarChar(255)
  user_name  String        @db.VarChar(255)
  active     Boolean
  password   String        @db.VarChar(255)
  idperfil   Int
  createdAt  DateTime      @default(now()) @db.DateTime(0)
  updatedAt  DateTime      @updatedAt @db.DateTime(0)
  cpf        String        @db.VarChar(255)
  email      String        @db.VarChar(255)
  telefone   String        @db.VarChar(255)
  usuarioAPi Boolean
  chaveApi   String        @db.VarChar(255)
  perfil     perfilusuario @relation(fields: [idperfil], references: [id])
}

model menu {
  id           Int      @id @default(autoincrement())
  codsequencia Int
  descricao    String   @db.VarChar(255)
  pagina       String   @db.VarChar(255)
  rota         String   @db.VarChar(255)
  idmodulo     Int
  createdAt    DateTime @db.DateTime(0)
  updatedAt    DateTime @db.DateTime(0)
  icone        String?  @db.VarChar(50)
}

model modulos {
  id             Int             @id @default(autoincrement())
  desc_modulo    String          @db.VarChar(255)
  createdAt      DateTime        @db.DateTime(0)
  updatedAt      DateTime        @db.DateTime(0)
  perfilXmodulos perfil_modulo[]
}

model perfil_modulo {
  id        Int           @id @default(autoincrement())
  idperfil  Int
  idmodulo  Int
  createdAt DateTime      @default(now()) @db.DateTime(0)
  updatedAt DateTime      @updatedAt @db.DateTime(0)
  perfil    perfilusuario @relation(fields: [idperfil], references: [id])
  modulo    modulos       @relation(fields: [idmodulo], references: [id])

  @@index([idmodulo], map: "fk_idmodulo")
  @@index([idperfil], map: "fk_idperfil")
}

model perfilusuario {
  id             Int             @id @default(autoincrement())
  descricao      String          @db.VarChar(255)
  logins         logins[]
  perfilXmodulos perfil_modulo[]
}

model senhas {
  id                    Int      @id @default(autoincrement())
  idusuario             Int
  senha                 String?  @db.VarChar(255)
  idretorno             Int?
  observacao            String?  @db.VarChar(255)
  createdAt             DateTime @db.DateTime(0)
  updatedAt             DateTime @db.DateTime(0)
  cpf                   String   @db.VarChar(255)
  idusuario_atualizacao Int?

  @@index([idretorno], map: "idretorno")
  @@index([idusuario], map: "idusuario")
}

model situacao {
  id            Int      @id @default(autoincrement())
  descricao     String   @db.VarChar(255)
  icone         String?  @db.VarChar(255)
  cor           String?  @db.VarChar(255)
  createdAt     DateTime @db.DateTime(0)
  updatedAt     DateTime @db.DateTime(0)
  formsolicitar Boolean
}

model situacaosolicsenha {
  id            Int      @id @default(autoincrement())
  descricao     String   @db.VarChar(255)
  createdAt     DateTime @db.DateTime(0)
  updatedAt     DateTime @db.DateTime(0)
  telaSolicitar Boolean  @default(false)
  telaAtualizar Boolean  @default(false)
}

model statussolicitacaoservico {
  id        Int      @id @default(autoincrement())
  codigo    Int
  descricao String   @db.VarChar(255)
  createdAt DateTime @db.DateTime(0)
  updatedAt DateTime @db.DateTime(0)
}

model tiposervico {
  id           Int      @id @default(autoincrement())
  descricao    String   @db.VarChar(255)
  createdAt    DateTime @db.DateTime(0)
  updatedAt    DateTime @db.DateTime(0)
  valorCusto   Float    @default(0) @db.Float
  valorVenda   Float    @default(0) @db.Float
  ativo        Boolean  @default(true)
  observacao   String?  @db.VarChar(255)
  usuario_cad  Int      @default(0)
  usuario_alt  Int      @default(0)
  idfornecedor Int      @default(1)

  @@index([idfornecedor], map: "idfornecedor")
}
